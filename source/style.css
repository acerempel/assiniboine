@import "./meta.css";
@import "./garamond.css";
@tailwind base;
@tailwind utilities;
@tailwind components;

@layer base {
	body {
		font-family: 'EB Garamond', Garamond, Charter, Georgia, serif;
		--width-prose: 36rem;
		--colour-primary: #1C1917;
		--colour-secondary: #262626;
		--colour-tertiary: #3F3F46;
		--colour-accent-1: #9D174D;
		--colour-accent-2: #BE185D;
		--colour-interactive-1: #1E40AF;
		--colour-interactive-2: #1D4ED8;
		--colour-interactive-3: #2563EB;
		@apply text-primary bg-grey-50;
	}

	b, strong { font-weight: 700; }

	p { hyphens: auto }

	dnf, cite, em, i {
		font-style: italic;
	}

	pre {
		white-space: pre;
		overflow-x: auto;
	}

	a {
		cursor: pointer;
		@apply text-interactive-1;
		text-decoration: underline;
		text-underline-offset: 0.1875em;
		text-decoration-thickness: 0.05em;
		text-decoration-skip-ink: all;
	}

	form {
		input:not([type="submit"]):not([type="reset"]):not([type="range"]),
		textarea {
			@apply text-lg p-1 border-2 rounded-sm border-tertiary;
			&:focus {
				@apply
					ring-0 ring-transparent
					border-tertiary outline-interactive-1;
			}
		}

		button, [type = "button"], [type = "reset"], [type = "submit"] {
			@apply
				px-3.5 py-1.5 rounded
				border-2 border-interactive-3 border-opacity-80
				bg-interactive-2 bg-opacity-80
				font-medium text-gray-50;
			&:focus { @apply outline-interactive-2; }
			&:active { @apply border-interactive-2 bg-interactive-1 }
		}
	}

	textarea { width: 100%; }

}

@layer components {
	.entry-content {
		@apply text-lg space-y-6 leading-normal;

		blockquote {
			@apply px-6 leading-snug text-secondary;
		}
	}

	.nav-links {
		@apply flex justify-around flex-wrap;
	}

	.meta-nav {
		@apply flex;
	}

	.nav-previous {
		.meta-nav { @apply justify-start; }
		.svg-icon { @apply mr-4; }
		.post-title { @apply ml-10; }
	}

	.nav-next {
		.meta-nav { @apply justify-end; }
		.svg-icon { @apply ml-4; }
		.post-title { @apply mr-10; }
	}

	.blog main {
		@apply grid gap-x-16 gap-y-8 justify-items-center grid-cols-1 sm:grid-cols-w96;
		& > * { @apply max-w-prose; }
	}

	.site-header { @apply space-y-2; }

	.entry-title { @apply text-2xl }

	.site-title {
		@apply text-3xl text-center font-medium;
		a { @apply text-secondary; }
	}

	.home .site-title { @apply text-4xl font-medium }

	.entry-footer {
		@apply
			grid grid-cols-w40 gap-x-4
			text-sm text-tertiary leading-normal font-medium;
		margin-top: 3px;
		row-gap: 3px;
	}

	.singular {
		.entry {
			@apply
				grid gap-x-10 gap-y-6
				grid-cols-lg lg:grid-cols-sm-lg-sm
				justify-center;
		}
		.entry-title { @apply text-4xl }
		.entry-header { grid-area: header }
		.entry-footer { grid-area: footer; @apply lg:block }
		.entry-content { grid-area: main }
	}

	.primary-navigation {
		@apply font-medium text-lg;
		[aria-current = "page"] { @apply font-bold tracking-wide }
		.menu-item { @apply px-6 py-1 }
	}

	.comment-form {
		@apply grid sm:grid-cols-2 gap-y-2 gap-x-4;
		[class *= "comment-form-"] {
			@apply flex flex-col gap-y-1;
		}
		.comment-form-comment, .comment-notes {
			grid-column: 1 / -1;
		}
		.comment-form-cookies-consent {
			@apply flex-row gap-x-2 pt-5;
		}
		.comment-notes .required {
			&::before { content: "with an asterisk (" }
			&::after { content: ")." }
		}
	}

	.comment, .comment-content, .comment-body {
		@apply space-y-4
	}
	.comments-area { @apply space-y-6 }
	.comment-list {
		@apply space-y-6 divide-y-2 divide-tertiary;
		& > *:not(:first-child) { @apply pt-6 }
	}
	.children { @apply ml-6 space-y-6 }

}

@layer utilities {
	.grid-cols-lg {
		grid-template-columns: minmax(0, var(--width-prose));
		grid-template-areas:
			"header" "footer" "main";
	}

	.grid-cols-sm-lg-sm {
		grid-template-columns: minmax(0, 14rem) var(--width-prose) 14rem;
		grid-template-areas:
			"none header header"
			"none main footer";
	}

	.hyphens {
		hyphens: auto;
	}

	.thick-top-border {
		@apply
			border-t-8 border-accent-1 border-opacity-80
			pt-6 mt-8;
	}

	[aria-expanded = "true"] .hide-when-expanded {
		display: none
	}

	[aria-expanded = "false"] .hide-when-collapsed {
		display: none
	}

	.alignleft {
		float: left;
		@apply mr-2 mb-2;
	}

	.alignright {
		float: right;
		@apply ml-2 mb-2;
	}

	.screen-reader-text {
		@apply sr-only;
	}
}
